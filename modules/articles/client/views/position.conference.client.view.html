<section ng-controller="ConferenceViewController">

    <div class="page-header">
        <ol class="breadcrumb ">
            <li><a ui-sref="conferences.view({conferenceId: conference._id})" class="btn bg_1"><i class="glyphicon glyphicon-arrow-left
"></i></a></li>
            <li>จัดการรายชื่อผู้เข้าประชุม</li>
        </ol>
    </div>
    <div class="mainbox col-md-12">
        <div class="panel panel-info">

            <div style="padding-top:30px" class="panel-body">
                <form class="form-horizontal" ng-submit="update()">
                    <div class="col-sm-12">
                        <div style="margin-bottom: 15px;" class="btn-group" role="group" aria-label="...">
                            <div class="btn-group" role="group">
                                <button type="button" ng-click="addSubUser(conference.conference_users,newUser)"
                                        class="btn btn-warning glyphicon glyphicon-plus"> เพิ่ม
                                </button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" ng-click="update()"
                                        class="btn btn-warning glyphicon glyphicon-saved"> บันทึก
                                </button>
                            </div>
                        </div>


                        <table class="table table-bordered">
                            <tbody>
                            <tr ng-repeat="user in conference.conference_users">
                                <td>
                                    <input class="form-control" value="{{user.name}}" ng-model="user.name"
                                           placeholder="ชื่อ - สกุล"/>
                                </td>
                                <td>
                                    <input class="form-control" value="{{user.position}}" ng-model="user.position"
                                           placeholder="ตำแหน่งในที่ประชุม"/>
                                </td>
                                <td>
                                    <button ng-show="user.isEditMode" class="btn btn-block btn-danger" type="button"
                                            ng-click="removeSubUser(conference.conference_users,user,$index)">ตกลง
                                    </button>
                                    <button ng-show="user.isEditMode" class="btn btn-block btn-warning" type="button"
                                            ng-click="toggleDeleteposition(conference.conference_users,user,$index)">
                                        ยกเลิก
                                    </button>
                                    <button ng-show="!user.isEditMode" class="btn btn-block btn-danger" type="button"
                                            ng-click="toggleDeleteposition(conference.conference_users,user,$index)">ลบ
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                    </div>

                </form>
            </div>
        </div>

    </div>
</section>
